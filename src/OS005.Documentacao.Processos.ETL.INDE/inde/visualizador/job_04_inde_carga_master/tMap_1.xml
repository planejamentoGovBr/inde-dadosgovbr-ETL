<?xml version="1.1" encoding="UTF-8"?>

<externalNode i18n.job.component.parameters="Component Parameters:" i18n.job.properties="Propriedades" i18n.job.values="Values" i18n.mapper.table.for="Mapper table for " i18n.mapper.table.properties="Mapper table Properties" i18n.job.name="Nome" i18n.tmap.matching.mode="Matching-mode" i18n.mapper.table.isminimized="isMinimized" i18n.tmap.isreject="isReject" i18n.tmap.isrejectinnnerjoin="isRejectInnerJoin" i18n.tmap.isinnerjoin="isInnerJoin" i18n.tmap.expressionfilter="expressionFilter" i18n.mapper.table.metadata.entries="Metadata Table Entries" i18n.job.type="Type" i18n.mapper.table.expression="Expressão" i18n.tmap.isnullable="isNullable" i18n.tmap.constraint.entries="Constraint Table Entries" name="tMap_1" preview="pictures/_-spLANIiEeSa4aEsa2XIvQ-tMap_1-PREVIEW.bmp">
  <parameters>
    <column name="tStatCatcher Statistics">false</column>
    <column name="Permitir execução em paralelo">false</column>
    <column name="Mapping links display as: ">AUTO</column>
    <column name="Temp data directory path: "></column>
    <column name="Max buffer size (nb of rows): ">2000000</column>
    <column name="Visualizar informações">true</column>
    <column name="Comentário"><![CDATA[Componente responsável por fazer o INNER JOIN das informaçõs dos metadados do visualisador com as informações dos dados do gestor e gerar o arquivo json.]]></column>
    <column name="Use an existing validation rule">false</column>
  </parameters>
  <mapperTable type="input">
    <table name="entrada_lista_metadados" matching-mode="UNIQUE_MATCH" lookup-mode="LOAD_ONCE" isMinimized="false" isReject="false" isRejectInnerJoin="false" isInnerJoin="false" isPersistent="false" expressionFilter="null" activateExpressionFilter="false" activateCondensedTool="false">
      <metadataTableEntries>
        <entry name="comeco_url" type="String" expression="" isNullable="true"/>
        <entry name="nome_url" type="String" expression="" isNullable="true"/>
        <entry name="id_metadado" type="String" expression="" isNullable="true"/>
        <entry name="url_kml" type="String" expression="" isNullable="true"/>
        <entry name="nome_recurso" type="String" expression="" isNullable="true"/>
        <entry name="url_metadado" type="String" expression="" isNullable="true"/>
        <entry name="visualiza_camada" type="String" expression="" isNullable="true"/>
      </metadataTableEntries>
    </table>
    <table name="entrada_recurso" matching-mode="UNIQUE_MATCH" lookup-mode="LOAD_ONCE" isMinimized="false" isReject="false" isRejectInnerJoin="false" isInnerJoin="true" isPersistent="false" expressionFilter="null" activateExpressionFilter="false" activateCondensedTool="true">
      <metadataTableEntries>
        <entry name="Titulo" type="String" expression="" isNullable="true"/>
        <entry name="Resumo" type="String" expression="" isNullable="true"/>
        <entry name="Autor" type="String" expression="" isNullable="true"/>
        <entry name="Email_Autor" type="String" expression="" isNullable="true"/>
        <entry name="Mantenedor" type="String" expression="" isNullable="true"/>
        <entry name="Email_Mantenedor" type="String" expression="" isNullable="true"/>
        <entry name="id_metadado" type="String" expression="entrada_lista_metadados.id_metadado.trim()  " isNullable="true"/>
        <entry name="Frequencia_Atualizacao" type="String" expression="" isNullable="true"/>
        <entry name="Lat_Norte" type="String" expression="" isNullable="true"/>
        <entry name="Lon_Oeste" type="String" expression="" isNullable="true"/>
        <entry name="Lon_Leste" type="String" expression="" isNullable="true"/>
        <entry name="Lat_Sul" type="String" expression="" isNullable="true"/>
      </metadataTableEntries>
    </table>
  </mapperTable>
  <mapperTable type="output">
    <table name="saida_create" isMinimized="false" isReject="false" isRejectInnerJoin="false" isInnerJoin="false" isPersistent="false" expressionFilter="null" activateExpressionFilter="false" activateCondensedTool="false">
      <metadataTableEntries>
        <entry name="Arquivo" type="String" expression="!entrada_recurso.Frequencia_Atualizacao.equals(&quot;&quot;) ?
&quot;{\&quot;name\&quot;:\&quot;&quot; + Var.nome_url + &quot;\&quot;,\&quot;title\&quot;:\&quot;&quot; + routines.StringUtil.stringToUnicode(entrada_recurso.Titulo) + &quot;\&quot;,\&quot;author\&quot;:\&quot;&quot; + routines.StringUtil.stringToUnicode(entrada_recurso.Autor) + &quot;\&quot;,\&quot;author_email\&quot;:\&quot;&quot; + routines.StringUtil.stringToUnicode(entrada_recurso.Email_Autor) + &quot;\&quot;,\&quot;maintainer\&quot;:\&quot;&quot; + routines.StringUtil.stringToUnicode(entrada_recurso.Mantenedor) + &quot;\&quot;,\&quot;maintainer_email\&quot;:\&quot;&quot; + routines.StringUtil.stringToUnicode(entrada_recurso.Email_Mantenedor) + &quot;\&quot;,\&quot;notes\&quot;:\&quot;&quot; + routines.StringUtil.stringToUnicode(Var.resumo) + &quot;\&quot;,\&quot;url\&quot;:\&quot;http://www.visualizador.inde.gov.br\&quot;,\&quot;state\&quot;:\&quot;active\&quot;,\&quot;resources\&quot;:[{\&quot;format\&quot;:\&quot;CSV\&quot; ,\&quot;mimetype\&quot;:\&quot;text/csv\&quot;,\&quot;name\&quot;:\&quot;&quot; + routines.StringUtil.stringToUnicode(Var.nome_recurso) + &quot;\&quot;,\&quot;url\&quot;:\&quot;&quot; + entrada_lista_metadados.comeco_url + &quot;?service=WFS&amp;version=1.0.0&amp;request=GetFeature&amp;typeName=&quot; + entrada_lista_metadados.nome_url + &quot;&amp;outputFormat=CSV\&quot;},{\&quot;format\&quot;:\&quot;GEOJSON\&quot; ,\&quot;mimetype\&quot;:\&quot;application/vnd.geo+json\&quot;,\&quot;name\&quot;:\&quot;&quot; + routines.StringUtil.stringToUnicode(Var.nome_recurso) + &quot;\&quot;,\&quot;url\&quot;:\&quot;&quot; + entrada_lista_metadados.comeco_url + &quot;?service=WFS&amp;version=1.0.0&amp;request=GetFeature&amp;typeName=&quot; + entrada_lista_metadados.nome_url + &quot;&amp;outputFormat=JSON\&quot;},{\&quot;format\&quot;:\&quot;ZIP+SHP\&quot; ,\&quot;mimetype\&quot;:\&quot;application/zip\&quot;,\&quot;mimetype_inner\&quot;:\&quot;application/octet-stream\&quot;,\&quot;name\&quot;:\&quot;&quot; + routines.StringUtil.stringToUnicode(Var.nome_recurso) + &quot;\&quot;,\&quot;url\&quot;:\&quot;&quot; + entrada_lista_metadados.comeco_url + &quot;?service=WFS&amp;version=1.0.0&amp;request=GetFeature&amp;typeName=&quot; + entrada_lista_metadados.nome_url + &quot;&amp;outputFormat=SHAPE-ZIP\&quot;},{\&quot;format\&quot;:\&quot;KML\&quot; ,\&quot;mimetype\&quot;:\&quot;application/vnd.google-earth.kmz\&quot;,\&quot;name\&quot;:\&quot;&quot; + routines.StringUtil.stringToUnicode(Var.nome_recurso) + &quot;\&quot;,\&quot;url\&quot;:\&quot;&quot; + entrada_lista_metadados.comeco_url + &quot;?service=WMS&amp;version=1.1.0&amp;request=GetMap&amp;layers=&quot; + entrada_lista_metadados.nome_url + &quot;&amp;width=1024&amp;height=768&amp;bbox=-74,-34,-29,6&amp;format=application/vnd.google-earth.kmz+xml\&quot;},{\&quot;format\&quot;:\&quot;HTML\&quot; ,\&quot;mimetype\&quot;:\&quot;text/html\&quot;,\&quot;name\&quot;:\&quot;&quot; + routines.StringUtil.stringToUnicode(Var.nome_recurso) + &quot; no visualizador INDE\&quot;,\&quot;url\&quot;:\&quot;http://visualizador.inde.gov.br/VisualizaCamada/&quot; + entrada_lista_metadados.visualiza_camada + &quot;\&quot;}],\&quot;tags\&quot;:[{\&quot;name\&quot;:\&quot;INDE\&quot;},{\&quot;name\&quot;:\&quot;Cartografia\&quot;},{\&quot;name\&quot;:\&quot;Geoespacial\&quot;},{\&quot;name\&quot;:\&quot;&quot; + routines.StringUtil.stringToUnicode(&quot;Geoserviço&quot;) + &quot;\&quot;}],\&quot;license_id\&quot;:\&quot;notspecified\&quot;,\&quot;extras\&quot;:[{\&quot;key\&quot;:\&quot;&quot; + routines.StringUtil.stringToUnicode(&quot;Órgão - Esfera&quot;) + &quot;\&quot;,\&quot;value\&quot;:\&quot;Federal\&quot;},{\&quot;key\&quot;:\&quot;&quot; + routines.StringUtil.stringToUnicode(&quot;Órgão - Poder&quot;) + &quot;\&quot;,\&quot;value\&quot;:\&quot;Executivo\&quot;},{\&quot;key\&quot;:\&quot;&quot; + routines.StringUtil.stringToUnicode(&quot;Frequência de atualização&quot;) + &quot;\&quot;,\&quot;value\&quot;:\&quot;&quot; + routines.StringUtil.stringToUnicode(entrada_recurso.Frequencia_Atualizacao) + &quot;\&quot;}&quot; + Var.poly + &quot;]}&quot; : &quot;{\&quot;name\&quot;:\&quot;&quot; + Var.nome_url + &quot;\&quot;,\&quot;title\&quot;:\&quot;&quot; + routines.StringUtil.stringToUnicode(entrada_recurso.Titulo) + &quot;\&quot;,\&quot;author\&quot;:\&quot;&quot; + routines.StringUtil.stringToUnicode(entrada_recurso.Autor) + &quot;\&quot;,\&quot;author_email\&quot;:\&quot;&quot; + routines.StringUtil.stringToUnicode(entrada_recurso.Email_Autor) + &quot;\&quot;,\&quot;maintainer\&quot;:\&quot;&quot; + routines.StringUtil.stringToUnicode(entrada_recurso.Mantenedor) + &quot;\&quot;,\&quot;maintainer_email\&quot;:\&quot;&quot; + routines.StringUtil.stringToUnicode(entrada_recurso.Email_Mantenedor) + &quot;\&quot;,\&quot;notes\&quot;:\&quot;&quot; + routines.StringUtil.stringToUnicode(Var.resumo) + &quot;\&quot;,\&quot;url\&quot;:\&quot;http://www.visualizador.inde.gov.br\&quot;,\&quot;state\&quot;:\&quot;active\&quot;,\&quot;resources\&quot;:[{\&quot;format\&quot;:\&quot;CSV\&quot; ,\&quot;mimetype\&quot;:\&quot;text/csv\&quot;,\&quot;name\&quot;:\&quot;&quot; + routines.StringUtil.stringToUnicode(Var.nome_recurso) + &quot;\&quot;,\&quot;url\&quot;:\&quot;&quot; + entrada_lista_metadados.comeco_url + &quot;?service=WFS&amp;version=1.0.0&amp;request=GetFeature&amp;typeName=&quot; + entrada_lista_metadados.nome_url + &quot;&amp;outputFormat=CSV\&quot;},{\&quot;format\&quot;:\&quot;GEOJSON\&quot; ,\&quot;mimetype\&quot;:\&quot;application/vnd.geo+json\&quot;,\&quot;name\&quot;:\&quot;&quot; + routines.StringUtil.stringToUnicode(Var.nome_recurso) + &quot;\&quot;,\&quot;url\&quot;:\&quot;&quot; + entrada_lista_metadados.comeco_url + &quot;?service=WFS&amp;version=1.0.0&amp;request=GetFeature&amp;typeName=&quot; + entrada_lista_metadados.nome_url + &quot;&amp;outputFormat=JSON\&quot;},{\&quot;format\&quot;:\&quot;ZIP+SHP\&quot; ,\&quot;mimetype\&quot;:\&quot;application/zip\&quot;,\&quot;mimetype_inner\&quot;:\&quot;application/octet-stream\&quot;,\&quot;name\&quot;:\&quot;&quot; + routines.StringUtil.stringToUnicode(Var.nome_recurso) + &quot;\&quot;,\&quot;url\&quot;:\&quot;&quot; + entrada_lista_metadados.comeco_url + &quot;?service=WFS&amp;version=1.0.0&amp;request=GetFeature&amp;typeName=&quot; + entrada_lista_metadados.nome_url + &quot;&amp;outputFormat=SHAPE-ZIP\&quot;},{\&quot;format\&quot;:\&quot;KML\&quot; ,\&quot;mimetype\&quot;:\&quot;application/vnd.google-earth.kmz\&quot;,\&quot;name\&quot;:\&quot;&quot; + routines.StringUtil.stringToUnicode(Var.nome_recurso) + &quot;\&quot;,\&quot;url\&quot;:\&quot;&quot; + entrada_lista_metadados.comeco_url + &quot;?service=WMS&amp;version=1.1.0&amp;request=GetMap&amp;layers=&quot; + entrada_lista_metadados.nome_url + &quot;&amp;width=1024&amp;height=768&amp;bbox=-74,-34,-29,6&amp;format=application/vnd.google-earth.kmz+xml\&quot;},{\&quot;format\&quot;:\&quot;HTML\&quot; ,\&quot;mimetype\&quot;:\&quot;text/html\&quot;,\&quot;name\&quot;:\&quot;&quot; + routines.StringUtil.stringToUnicode(Var.nome_recurso) + &quot; no visualizador INDE\&quot;,\&quot;url\&quot;:\&quot;http://visualizador.inde.gov.br/VisualizaCamada/&quot; + entrada_lista_metadados.visualiza_camada + &quot;\&quot;}],\&quot;tags\&quot;:[{\&quot;name\&quot;:\&quot;INDE\&quot;},{\&quot;name\&quot;:\&quot;Cartografia\&quot;},{\&quot;name\&quot;:\&quot;Geoespacial\&quot;},{\&quot;name\&quot;:\&quot;&quot; + routines.StringUtil.stringToUnicode(&quot;Geoserviço&quot;) + &quot;\&quot;}],\&quot;license_id\&quot;:\&quot;notspecified\&quot;,\&quot;extras\&quot;:[{\&quot;key\&quot;:\&quot;&quot; + routines.StringUtil.stringToUnicode(&quot;Órgão - Esfera&quot;) + &quot;\&quot;,\&quot;value\&quot;:\&quot;Federal\&quot;},{\&quot;key\&quot;:\&quot;&quot; + routines.StringUtil.stringToUnicode(&quot;Órgão - Poder&quot;) + &quot;\&quot;,\&quot;value\&quot;:\&quot;Executivo\&quot;}&quot; + Var.poly + &quot;]}&quot;           " isNullable="true"/>
      </metadataTableEntries>
    </table>
    <table name="saida_update" isMinimized="false" isReject="false" isRejectInnerJoin="false" isInnerJoin="false" isPersistent="false" expressionFilter="null" activateExpressionFilter="false" activateCondensedTool="false">
      <metadataTableEntries>
        <entry name="Arquivo" type="String" expression="!entrada_recurso.Frequencia_Atualizacao.equals(&quot;&quot;) ? &quot;{\&quot;id\&quot;:\&quot;&quot; + Var.nome_url + &quot;\&quot;,\&quot;title\&quot;:\&quot;&quot; + routines.StringUtil.stringToUnicode(entrada_recurso.Titulo) + &quot;\&quot;,\&quot;author\&quot;:\&quot;&quot; + routines.StringUtil.stringToUnicode(entrada_recurso.Autor) + &quot;\&quot;,\&quot;author_email\&quot;:\&quot;&quot; + routines.StringUtil.stringToUnicode(entrada_recurso.Email_Autor) + &quot;\&quot;,\&quot;maintainer\&quot;:\&quot;&quot; + routines.StringUtil.stringToUnicode(entrada_recurso.Mantenedor) + &quot;\&quot;,\&quot;maintainer_email\&quot;:\&quot;&quot; + routines.StringUtil.stringToUnicode(entrada_recurso.Email_Mantenedor) + &quot;\&quot;,\&quot;notes\&quot;:\&quot;&quot; + routines.StringUtil.stringToUnicode(Var.resumo) + &quot;\&quot;,\&quot;url\&quot;:\&quot;http://www.visualizador.inde.gov.br\&quot;,\&quot;state\&quot;:\&quot;active\&quot;,\&quot;resources\&quot;:[{\&quot;format\&quot;:\&quot;CSV\&quot; ,\&quot;mimetype\&quot;:\&quot;text/csv\&quot;,\&quot;name\&quot;:\&quot;&quot; + routines.StringUtil.stringToUnicode(Var.nome_recurso) + &quot;\&quot;,\&quot;url\&quot;:\&quot;&quot; + entrada_lista_metadados.comeco_url + &quot;?service=WFS&amp;version=1.0.0&amp;request=GetFeature&amp;typeName=&quot; + entrada_lista_metadados.nome_url + &quot;&amp;outputFormat=CSV\&quot;},{\&quot;format\&quot;:\&quot;GEOJSON\&quot; ,\&quot;mimetype\&quot;:\&quot;application/vnd.geo+json\&quot;,\&quot;name\&quot;:\&quot;&quot; + routines.StringUtil.stringToUnicode(Var.nome_recurso) + &quot;\&quot;,\&quot;url\&quot;:\&quot;&quot; + entrada_lista_metadados.comeco_url + &quot;?service=WFS&amp;version=1.0.0&amp;request=GetFeature&amp;typeName=&quot; + entrada_lista_metadados.nome_url + &quot;&amp;outputFormat=JSON\&quot;},{\&quot;format\&quot;:\&quot;ZIP+SHP\&quot; ,\&quot;mimetype\&quot;:\&quot;application/zip\&quot;,\&quot;mimetype_inner\&quot;:\&quot;application/octet-stream\&quot;,\&quot;name\&quot;:\&quot;&quot; + routines.StringUtil.stringToUnicode(Var.nome_recurso) + &quot;\&quot;,\&quot;url\&quot;:\&quot;&quot; + entrada_lista_metadados.comeco_url + &quot;?service=WFS&amp;version=1.0.0&amp;request=GetFeature&amp;typeName=&quot; + entrada_lista_metadados.nome_url + &quot;&amp;outputFormat=SHAPE-ZIP\&quot;},{\&quot;format\&quot;:\&quot;KML\&quot; ,\&quot;mimetype\&quot;:\&quot;application/vnd.google-earth.kmz\&quot;,\&quot;name\&quot;:\&quot;&quot; + routines.StringUtil.stringToUnicode(Var.nome_recurso) + &quot;\&quot;,\&quot;url\&quot;:\&quot;&quot; + entrada_lista_metadados.comeco_url + &quot;?service=WMS&amp;version=1.1.0&amp;request=GetMap&amp;layers=&quot; + entrada_lista_metadados.nome_url + &quot;&amp;width=1024&amp;height=768&amp;bbox=-74,-34,-29,6&amp;format=application/vnd.google-earth.kmz+xml\&quot;},{\&quot;format\&quot;:\&quot;HTML\&quot; ,\&quot;mimetype\&quot;:\&quot;text/html\&quot;,\&quot;name\&quot;:\&quot;&quot; + routines.StringUtil.stringToUnicode(Var.nome_recurso) + &quot; no visualizador INDE\&quot;,\&quot;url\&quot;:\&quot;http://visualizador.inde.gov.br/VisualizaCamada/&quot; + entrada_lista_metadados.visualiza_camada + &quot;\&quot;}],\&quot;tags\&quot;:[{\&quot;name\&quot;:\&quot;INDE\&quot;},{\&quot;name\&quot;:\&quot;Cartografia\&quot;},{\&quot;name\&quot;:\&quot;Geoespacial\&quot;},{\&quot;name\&quot;:\&quot;&quot; + routines.StringUtil.stringToUnicode(&quot;Geoserviço&quot;) + &quot;\&quot;}],\&quot;license_id\&quot;:\&quot;notspecified\&quot;,\&quot;extras\&quot;:[{\&quot;key\&quot;:\&quot;&quot; + routines.StringUtil.stringToUnicode(&quot;Órgão - Esfera&quot;) + &quot;\&quot;,\&quot;value\&quot;:\&quot;Federal\&quot;},{\&quot;key\&quot;:\&quot;&quot; + routines.StringUtil.stringToUnicode(&quot;Órgão - Poder&quot;) + &quot;\&quot;,\&quot;value\&quot;:\&quot;Executivo\&quot;},{\&quot;key\&quot;:\&quot;&quot; + routines.StringUtil.stringToUnicode(&quot;Frequência de atualização&quot;) + &quot;\&quot;,\&quot;value\&quot;:\&quot;&quot; + routines.StringUtil.stringToUnicode(entrada_recurso.Frequencia_Atualizacao) + &quot;\&quot;}&quot; + Var.poly + &quot;]}&quot; : &quot;{\&quot;id\&quot;:\&quot;&quot; + Var.nome_url + &quot;\&quot;,\&quot;title\&quot;:\&quot;&quot; + routines.StringUtil.stringToUnicode(entrada_recurso.Titulo) + &quot;\&quot;,\&quot;author\&quot;:\&quot;&quot; + routines.StringUtil.stringToUnicode(entrada_recurso.Autor) + &quot;\&quot;,\&quot;author_email\&quot;:\&quot;&quot; + routines.StringUtil.stringToUnicode(entrada_recurso.Email_Autor) + &quot;\&quot;,\&quot;maintainer\&quot;:\&quot;&quot; + routines.StringUtil.stringToUnicode(entrada_recurso.Mantenedor) + &quot;\&quot;,\&quot;maintainer_email\&quot;:\&quot;&quot; + routines.StringUtil.stringToUnicode(entrada_recurso.Email_Mantenedor) + &quot;\&quot;,\&quot;notes\&quot;:\&quot;&quot; + routines.StringUtil.stringToUnicode(Var.resumo) + &quot;\&quot;,\&quot;url\&quot;:\&quot;http://www.visualizador.inde.gov.br\&quot;,\&quot;state\&quot;:\&quot;active\&quot;,\&quot;resources\&quot;:[{\&quot;format\&quot;:\&quot;CSV\&quot; ,\&quot;mimetype\&quot;:\&quot;text/csv\&quot;,\&quot;name\&quot;:\&quot;&quot; + routines.StringUtil.stringToUnicode(Var.nome_recurso) + &quot;\&quot;,\&quot;url\&quot;:\&quot;&quot; + entrada_lista_metadados.comeco_url + &quot;?service=WFS&amp;version=1.0.0&amp;request=GetFeature&amp;typeName=&quot; + entrada_lista_metadados.nome_url + &quot;&amp;outputFormat=CSV\&quot;},{\&quot;format\&quot;:\&quot;GEOJSON\&quot; ,\&quot;mimetype\&quot;:\&quot;application/vnd.geo+json\&quot;,\&quot;name\&quot;:\&quot;&quot; + routines.StringUtil.stringToUnicode(Var.nome_recurso) + &quot;\&quot;,\&quot;url\&quot;:\&quot;&quot; + entrada_lista_metadados.comeco_url + &quot;?service=WFS&amp;version=1.0.0&amp;request=GetFeature&amp;typeName=&quot; + entrada_lista_metadados.nome_url + &quot;&amp;outputFormat=JSON\&quot;},{\&quot;format\&quot;:\&quot;ZIP+SHP\&quot; ,\&quot;mimetype\&quot;:\&quot;application/zip\&quot;,\&quot;mimetype_inner\&quot;:\&quot;application/octet-stream\&quot;,\&quot;name\&quot;:\&quot;&quot; + routines.StringUtil.stringToUnicode(Var.nome_recurso) + &quot;\&quot;,\&quot;url\&quot;:\&quot;&quot; + entrada_lista_metadados.comeco_url + &quot;?service=WFS&amp;version=1.0.0&amp;request=GetFeature&amp;typeName=&quot; + entrada_lista_metadados.nome_url + &quot;&amp;outputFormat=SHAPE-ZIP\&quot;},{\&quot;format\&quot;:\&quot;KML\&quot; ,\&quot;mimetype\&quot;:\&quot;application/vnd.google-earth.kmz\&quot;,\&quot;name\&quot;:\&quot;&quot; + routines.StringUtil.stringToUnicode(Var.nome_recurso) + &quot;\&quot;,\&quot;url\&quot;:\&quot;&quot; + entrada_lista_metadados.comeco_url + &quot;?service=WMS&amp;version=1.1.0&amp;request=GetMap&amp;layers=&quot; + entrada_lista_metadados.nome_url + &quot;&amp;width=1024&amp;height=768&amp;bbox=-74,-34,-29,6&amp;format=application/vnd.google-earth.kmz+xml\&quot;},{\&quot;format\&quot;:\&quot;HTML\&quot; ,\&quot;mimetype\&quot;:\&quot;text/html\&quot;,\&quot;name\&quot;:\&quot;&quot; + routines.StringUtil.stringToUnicode(Var.nome_recurso) + &quot; no visualizador INDE\&quot;,\&quot;url\&quot;:\&quot;http://visualizador.inde.gov.br/VisualizaCamada/&quot; + entrada_lista_metadados.visualiza_camada + &quot;\&quot;}],\&quot;tags\&quot;:[{\&quot;name\&quot;:\&quot;INDE\&quot;},{\&quot;name\&quot;:\&quot;Cartografia\&quot;},{\&quot;name\&quot;:\&quot;Geoespacial\&quot;},{\&quot;name\&quot;:\&quot;&quot; + routines.StringUtil.stringToUnicode(&quot;Geoserviço&quot;) + &quot;\&quot;}],\&quot;license_id\&quot;:\&quot;notspecified\&quot;,\&quot;extras\&quot;:[{\&quot;key\&quot;:\&quot;&quot; + routines.StringUtil.stringToUnicode(&quot;Órgão - Esfera&quot;) + &quot;\&quot;,\&quot;value\&quot;:\&quot;Federal\&quot;},{\&quot;key\&quot;:\&quot;&quot; + routines.StringUtil.stringToUnicode(&quot;Órgão - Poder&quot;) + &quot;\&quot;,\&quot;value\&quot;:\&quot;Executivo\&quot;}&quot; + Var.poly + &quot;]}&quot; " isNullable="true"/>
      </metadataTableEntries>
    </table>
    <table name="saida_related" isMinimized="false" isReject="false" isRejectInnerJoin="false" isInnerJoin="false" isPersistent="false" expressionFilter="null" activateExpressionFilter="false" activateCondensedTool="false">
      <metadataTableEntries>
        <entry name="Arquivo" type="String" expression="&quot;{\&quot;title\&quot;:\&quot;&quot; + routines.StringUtil.stringToUnicode(Var.nome_recurso) + &quot; no visualizador INDE\&quot;,\&quot;type\&quot;:\&quot;Visualisation\&quot;,\&quot;url\&quot;:\&quot;http://visualizador.inde.gov.br/VisualizaCamada/&quot; + entrada_lista_metadados.visualiza_camada + &quot;\&quot;,\&quot;dataset_id\&quot;:\&quot;&quot; + Var.nome_url + &quot;\&quot;,\&quot;id\&quot;:\&quot;&quot; + Var.nome_url + &quot;_vis\&quot;}&quot;  " isNullable="true"/>
      </metadataTableEntries>
    </table>
  </mapperTable>
  <mapperTable type="var">
    <table name="Var" isMinimized="false" isReject="false" isRejectInnerJoin="false" isInnerJoin="false" isPersistent="false" expressionFilter="null" activateExpressionFilter="false" activateCondensedTool="false">
      <metadataTableEntries>
        <entry name="nome_url" type="String" expression="entrada_lista_metadados.nome_url.length() &lt; 2 ? StringUtil.removeAcentos(&quot;inde_&quot;.concat(entrada_lista_metadados.nome_url.toLowerCase().replaceAll(&quot;:&quot;, &quot;_&quot;).replaceAll(&quot; &quot;, &quot;_&quot;).replaceAll(&quot;\\.&quot;, &quot;_&quot;).replaceAll(&quot;/&quot;, &quot;_&quot;))).trim() : 
StringUtil.removeAcentos(entrada_lista_metadados.nome_url.toLowerCase().replaceAll(&quot;:&quot;, &quot;_&quot;).replaceAll(&quot; &quot;, &quot;_&quot;).replaceAll(&quot;\\.&quot;, &quot;_&quot;).replaceAll(&quot;/&quot;, &quot;_&quot;)).trim()  " isNullable="false"/>
        <entry name="resumo" type="String" expression="Relational.ISNULL(entrada_recurso.Resumo) || entrada_recurso.Resumo.equals(&quot;&quot;) ? &quot;&quot; :
entrada_recurso.Resumo.replaceAll(&quot;\&quot;&quot;, &quot;\\\\\&quot;&quot;).replaceAll(&quot;\\;&quot;, &quot;,&quot;).replaceAll(&quot;&lt;br&gt;&quot;, &quot;&quot;).replaceAll(&quot;&amp;nbsp&quot;, &quot;&quot;).trim()  " isNullable="false"/>
        <entry name="nome_recurso" type="String" expression="entrada_lista_metadados.nome_recurso.contains(&quot;/&quot;) ? entrada_lista_metadados.nome_recurso.substring(entrada_lista_metadados.nome_recurso.indexOf(&quot;/&quot;) + 1, entrada_lista_metadados.nome_recurso.length()) : 
entrada_lista_metadados.nome_recurso " isNullable="false"/>
        <entry name="poly" type="String" expression="!Relational.ISNULL(entrada_recurso.Lat_Norte) &amp;&amp; !entrada_recurso.Lat_Norte.equals(&quot;&quot;) ? &quot;,{\&quot;key\&quot;:\&quot;spatial\&quot;,\&quot;value\&quot;:\&quot;\\\&quot;type\\\&quot;:\\\&quot;Polygon\\\&quot;, \\\&quot;coordinates\\\&quot;:[[[&quot; + entrada_recurso.Lon_Oeste + &quot;,&quot; + entrada_recurso.Lat_Sul + &quot;],[&quot; + entrada_recurso.Lon_Leste + &quot;,&quot; + entrada_recurso.Lat_Sul + &quot;],[&quot; + entrada_recurso.Lon_Leste + &quot;,&quot; + entrada_recurso.Lat_Norte + &quot;],[&quot; + entrada_recurso.Lon_Oeste +&quot;,&quot; + entrada_recurso.Lat_Norte + &quot;],[&quot; + entrada_recurso.Lon_Oeste + &quot;,&quot; + entrada_recurso.Lat_Sul + &quot;]]]\&quot;}&quot; : &quot;&quot;    " isNullable="false"/>
      </metadataTableEntries>
    </table>
  </mapperTable>
</externalNode>
