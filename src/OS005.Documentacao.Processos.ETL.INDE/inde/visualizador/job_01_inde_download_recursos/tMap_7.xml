<?xml version="1.1" encoding="UTF-8"?>

<externalNode i18n.job.component.parameters="Component Parameters:" i18n.job.properties="Propriedades" i18n.job.values="Values" i18n.mapper.table.for="Mapper table for " i18n.mapper.table.properties="Mapper table Properties" i18n.job.name="Nome" i18n.tmap.matching.mode="Matching-mode" i18n.mapper.table.isminimized="isMinimized" i18n.tmap.isreject="isReject" i18n.tmap.isrejectinnnerjoin="isRejectInnerJoin" i18n.tmap.isinnerjoin="isInnerJoin" i18n.tmap.expressionfilter="expressionFilter" i18n.mapper.table.metadata.entries="Metadata Table Entries" i18n.job.type="Type" i18n.mapper.table.expression="Expressão" i18n.tmap.isnullable="isNullable" i18n.tmap.constraint.entries="Constraint Table Entries" name="tMap_7" preview="pictures/_DcWbYNIjEeSa4aEsa2XIvQ-tMap_7-PREVIEW.bmp">
  <parameters>
    <column name="tStatCatcher Statistics">false</column>
    <column name="Permitir execução em paralelo">false</column>
    <column name="Mapping links display as: ">AUTO</column>
    <column name="Temp data directory path: "></column>
    <column name="Max buffer size (nb of rows): ">2000000</column>
    <column name="Visualizar informações">true</column>
    <column name="Comentário"><![CDATA[Componente responsável por fazer o tratamento dos dados do metadado do gestor para criação de um arquivo único contendo as informalçoes dos metadados do gestor.]]></column>
    <column name="Use an existing validation rule">false</column>
  </parameters>
  <mapperTable type="input">
    <table name="entrada_metadado_linha" matching-mode="UNIQUE_MATCH" lookup-mode="LOAD_ONCE" isMinimized="false" isReject="false" isRejectInnerJoin="false" isInnerJoin="false" isPersistent="false" expressionFilter="null" activateExpressionFilter="false" activateCondensedTool="false">
      <metadataTableEntries>
        <entry name="Arquivo" type="String" expression="" isNullable="true"/>
      </metadataTableEntries>
    </table>
  </mapperTable>
  <mapperTable type="output">
    <table name="saida_metadado" isMinimized="false" isReject="false" isRejectInnerJoin="false" isInnerJoin="false" isPersistent="false" expressionFilter="null" activateExpressionFilter="false" activateCondensedTool="false">
      <metadataTableEntries>
        <entry name="Titulo" type="String" expression="entrada_metadado_linha.Arquivo.substring(entrada_metadado_linha.Arquivo.indexOf(&quot;tulo&lt;/span&gt;&quot;)+54, entrada_metadado_linha.Arquivo.indexOf(&quot;&lt;/td&gt;&quot;, entrada_metadado_linha.Arquivo.indexOf(&quot;tulo&lt;/span&gt;&quot;))).trim()    " isNullable="true"/>
        <entry name="Resumo" type="String" expression="entrada_metadado_linha.Arquivo.substring(entrada_metadado_linha.Arquivo.indexOf(&quot;Resumo&lt;/span&gt;&quot;)+56, entrada_metadado_linha.Arquivo.indexOf(&quot;&lt;/td&gt;&quot;, entrada_metadado_linha.Arquivo.indexOf(&quot;Resumo&lt;/span&gt;&quot;))).trim() " isNullable="true"/>
        <entry name="Autor" type="String" expression="entrada_metadado_linha.Arquivo.contains(&quot;Nome individual&lt;/span&gt;&quot;) ? entrada_metadado_linha.Arquivo.substring(entrada_metadado_linha.Arquivo.indexOf(&quot;Nome individual&lt;/span&gt;&quot;)+65, entrada_metadado_linha.Arquivo.indexOf(&quot;&lt;/td&gt;&quot;, entrada_metadado_linha.Arquivo.indexOf(&quot;Nome individual&lt;/span&gt;&quot;))).trim() :
entrada_metadado_linha.Arquivo.substring(entrada_metadado_linha.Arquivo.indexOf(&quot;Nome&lt;/span&gt;&quot;)+54, entrada_metadado_linha.Arquivo.indexOf(&quot;&lt;/td&gt;&quot;, entrada_metadado_linha.Arquivo.indexOf(&quot;Nome&lt;/span&gt;&quot;))).trim()    " isNullable="true"/>
        <entry name="Email_Autor" type="String" expression="!Var.email_autor.equals(&quot;&quot;) ?
Var.email_autor.substring(Var.email_autor.indexOf(&quot;&gt;&quot;)+1,Var.email_autor.indexOf(&quot;&lt;/a&gt;&quot;)).trim() : &quot;&quot; " isNullable="true"/>
        <entry name="Mantenedor" type="String" expression="entrada_metadado_linha.Arquivo.contains(&quot;Nome individual&lt;/span&gt;&quot;) ? entrada_metadado_linha.Arquivo.substring(entrada_metadado_linha.Arquivo.lastIndexOf(&quot;Nome individual&lt;/span&gt;&quot;)+65, entrada_metadado_linha.Arquivo.indexOf(&quot;&lt;/td&gt;&quot;, entrada_metadado_linha.Arquivo.lastIndexOf(&quot;Nome individual&lt;/span&gt;&quot;))).trim() :
entrada_metadado_linha.Arquivo.substring(entrada_metadado_linha.Arquivo.lastIndexOf(&quot;Nome&lt;/span&gt;&quot;)+54, entrada_metadado_linha.Arquivo.indexOf(&quot;&lt;/td&gt;&quot;, entrada_metadado_linha.Arquivo.lastIndexOf(&quot;Nome&lt;/span&gt;&quot;))).trim()    " isNullable="true"/>
        <entry name="Email_Mantenedor" type="String" expression="!Var.email_mantenedor.equals(&quot;&quot;) ?
Var.email_mantenedor.substring(Var.email_mantenedor.indexOf(&quot;&gt;&quot;)+1,Var.email_mantenedor.indexOf(&quot;&lt;/a&gt;&quot;)).trim() : &quot;&quot;     " isNullable="true"/>
        <entry name="id_metadado" type="String" expression="((String)globalMap.get(&quot;tFileList_2_CURRENT_FILE&quot;)).substring(0, ((String)globalMap.get(&quot;tFileList_2_CURRENT_FILE&quot;)).length()-5).trim() " isNullable="true"/>
        <entry name="Frequencia_Atualizacao" type="String" expression="entrada_metadado_linha.Arquivo.contains(&quot;Frequência de Manutenção e Atualização&quot;) ? entrada_metadado_linha.Arquivo.substring(entrada_metadado_linha.Arquivo.indexOf(&quot;Frequência de Manutenção e Atualização&lt;/span&gt;&quot;)+88, entrada_metadado_linha.Arquivo.indexOf(&quot;&lt;/td&gt;&quot;, entrada_metadado_linha.Arquivo.indexOf(&quot;Frequência de Manutenção e Atualização&lt;/span&gt;&quot;))).trim() : &quot;&quot;  " isNullable="true"/>
        <entry name="Lat_Norte" type="String" expression="Var.polygon &amp;&amp; entrada_metadado_linha.Arquivo.contains(&quot;Latitude Limítrofe Norte&lt;/span&gt;&quot;) ? 
entrada_metadado_linha.Arquivo.substring(entrada_metadado_linha.Arquivo.indexOf(&quot;value=&quot;, entrada_metadado_linha.Arquivo.indexOf(&quot;Latitude Limítrofe Norte&lt;/span&gt;&quot;))+7, entrada_metadado_linha.Arquivo.indexOf(&quot;readonly size&quot;, entrada_metadado_linha.Arquivo.indexOf(&quot;Latitude Limítrofe Norte&lt;/span&gt;&quot;))-2).trim().replaceAll(&quot;,&quot;, &quot;\\.&quot;) : Var.polygon &amp;&amp; entrada_metadado_linha.Arquivo.contains(&quot;North bound latitude&lt;/span&gt;&quot;) ? entrada_metadado_linha.Arquivo.substring(entrada_metadado_linha.Arquivo.indexOf(&quot;value=&quot;, entrada_metadado_linha.Arquivo.indexOf(&quot;North bound latitude&lt;/span&gt;&quot;))+7, entrada_metadado_linha.Arquivo.indexOf(&quot;readonly size&quot;, entrada_metadado_linha.Arquivo.indexOf(&quot;North bound latitude&lt;/span&gt;&quot;))-2).trim().replaceAll(&quot;,&quot;, &quot;\\.&quot;) : &quot;&quot;   " isNullable="true"/>
        <entry name="Lon_Oeste" type="String" expression="Var.polygon &amp;&amp; entrada_metadado_linha.Arquivo.contains(&quot;Longitude Limítrofe Oeste&lt;/span&gt;&quot;) ? 
entrada_metadado_linha.Arquivo.substring(entrada_metadado_linha.Arquivo.indexOf(&quot;value=&quot;, entrada_metadado_linha.Arquivo.indexOf(&quot;Longitude Limítrofe Oeste&lt;/span&gt;&quot;))+7, entrada_metadado_linha.Arquivo.indexOf(&quot;readonly size&quot;, entrada_metadado_linha.Arquivo.indexOf(&quot;Longitude Limítrofe Oeste&lt;/span&gt;&quot;))-2).trim().replaceAll(&quot;,&quot;, &quot;\\.&quot;) : Var.polygon &amp;&amp; entrada_metadado_linha.Arquivo.contains(&quot;West bound longitude&lt;/span&gt;&quot;) ? entrada_metadado_linha.Arquivo.substring(entrada_metadado_linha.Arquivo.indexOf(&quot;value=&quot;, entrada_metadado_linha.Arquivo.indexOf(&quot;West bound longitude&lt;/span&gt;&quot;))+7, entrada_metadado_linha.Arquivo.indexOf(&quot;readonly size&quot;, entrada_metadado_linha.Arquivo.indexOf(&quot;West bound longitude&lt;/span&gt;&quot;))-2).trim().replaceAll(&quot;,&quot;, &quot;\\.&quot;) : &quot;&quot;  " isNullable="true"/>
        <entry name="Lon_Leste" type="String" expression="Var.polygon &amp;&amp; entrada_metadado_linha.Arquivo.contains(&quot;Longitude Limítrofe Leste&lt;/span&gt;&quot;) ? 
entrada_metadado_linha.Arquivo.substring(entrada_metadado_linha.Arquivo.indexOf(&quot;value=&quot;, entrada_metadado_linha.Arquivo.indexOf(&quot;Longitude Limítrofe Leste&lt;/span&gt;&quot;))+7, entrada_metadado_linha.Arquivo.indexOf(&quot;readonly size&quot;, entrada_metadado_linha.Arquivo.indexOf(&quot;Longitude Limítrofe Leste&lt;/span&gt;&quot;))-2).trim().replaceAll(&quot;,&quot;, &quot;\\.&quot;) : Var.polygon &amp;&amp; entrada_metadado_linha.Arquivo.contains(&quot;East bound longitude&lt;/span&gt;&quot;) ? entrada_metadado_linha.Arquivo.substring(entrada_metadado_linha.Arquivo.indexOf(&quot;value=&quot;, entrada_metadado_linha.Arquivo.indexOf(&quot;East bound longitude&lt;/span&gt;&quot;))+7, entrada_metadado_linha.Arquivo.indexOf(&quot;readonly size&quot;, entrada_metadado_linha.Arquivo.indexOf(&quot;East bound longitude&lt;/span&gt;&quot;))-2).trim().replaceAll(&quot;,&quot;, &quot;\\.&quot;) :&quot;&quot;  " isNullable="true"/>
        <entry name="Lat_Sul" type="String" expression="Var.polygon &amp;&amp; entrada_metadado_linha.Arquivo.contains(&quot;Latitude Limítrofe Sul&lt;/span&gt;&quot;) ?
entrada_metadado_linha.Arquivo.substring(entrada_metadado_linha.Arquivo.indexOf(&quot;value=&quot;, entrada_metadado_linha.Arquivo.indexOf(&quot;Latitude Limítrofe Sul&lt;/span&gt;&quot;))+7, entrada_metadado_linha.Arquivo.indexOf(&quot;readonly size&quot;, entrada_metadado_linha.Arquivo.indexOf(&quot;Latitude Limítrofe Sul&lt;/span&gt;&quot;))-2).trim().replaceAll(&quot;,&quot;, &quot;\\.&quot;) : Var.polygon &amp;&amp; entrada_metadado_linha.Arquivo.contains(&quot;Limite Sul da latitude&lt;/span&gt;&quot;) ? entrada_metadado_linha.Arquivo.substring(entrada_metadado_linha.Arquivo.indexOf(&quot;value=&quot;, entrada_metadado_linha.Arquivo.indexOf(&quot;Limite Sul da latitude&lt;/span&gt;&quot;))+7, entrada_metadado_linha.Arquivo.indexOf(&quot;readonly size&quot;, entrada_metadado_linha.Arquivo.indexOf(&quot;Limite Sul da latitude&lt;/span&gt;&quot;))-2).trim().replaceAll(&quot;,&quot;, &quot;\\.&quot;) :  &quot;&quot;  " isNullable="true"/>
      </metadataTableEntries>
    </table>
  </mapperTable>
  <mapperTable type="var">
    <table name="Var" isMinimized="false" isReject="false" isRejectInnerJoin="false" isInnerJoin="false" isPersistent="false" expressionFilter="null" activateExpressionFilter="false" activateCondensedTool="false">
      <metadataTableEntries>
        <entry name="email_autor" type="String" expression="entrada_metadado_linha.Arquivo.contains(&quot;E-mail&lt;/span&gt;&quot;) ? 
entrada_metadado_linha.Arquivo.substring(entrada_metadado_linha.Arquivo.indexOf(&quot;href=\&quot;mailto:&quot;, entrada_metadado_linha.Arquivo.indexOf(&quot;E-mail&lt;/span&gt;&quot;))+13, entrada_metadado_linha.Arquivo.indexOf(&quot;&lt;/a&gt;&quot;, entrada_metadado_linha.Arquivo.indexOf(&quot;E-mail&lt;/span&gt;&quot;))+4) : &quot;&quot;     " isNullable="false"/>
        <entry name="email_mantenedor" type="String" expression="entrada_metadado_linha.Arquivo.contains(&quot;E-mail&lt;/span&gt;&quot;) ? 
entrada_metadado_linha.Arquivo.substring(entrada_metadado_linha.Arquivo.indexOf(&quot;href=\&quot;mailto:&quot;, entrada_metadado_linha.Arquivo.lastIndexOf(&quot;E-mail&lt;/span&gt;&quot;)), entrada_metadado_linha.Arquivo.indexOf(&quot;&lt;/a&gt;&quot;, entrada_metadado_linha.Arquivo.lastIndexOf(&quot;E-mail&lt;/span&gt;&quot;))+4) : &quot;&quot;  " isNullable="false"/>
        <entry name="polygon" type="boolean" expression="entrada_metadado_linha.Arquivo.contains(&quot;Polygon&quot;) " isNullable="false"/>
      </metadataTableEntries>
    </table>
  </mapperTable>
</externalNode>
